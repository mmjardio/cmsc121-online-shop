<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Register Page</title>
    <link rel="stylesheet" href="/css/register.css">
    <link rel="icon" href="/favicon-512x512.png" sizes="512x512" type="image/png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // Check if the success message exists
            var successMessage = [[${success}]];
            if (successMessage) {
                alert(successMessage); // Show the popup message
            }
        });
    </script>
</head>
<body>
<div class="form">
    <form method="post" action="/register" th:object="${registerRequest}">
        <h2>Sign Up</h2>
        <div th:if="${success}" th:text="${success}"></div>

        <!-- Display Error Message -->
        <div th:if="${error}" th:text="${error}"></div>
        <div class="input-box">
            <i class="fa fa-user" aria-hidden="true"></i>
            <input type="text" name="login" placeholder="Your Name Here" required>
        </div>
        <div class="input-box">
            <i class="fa fa-user" aria-hidden="true"></i>
            <input type="email" name="email" placeholder="Your Email Here" required>
        </div>
        <div class="input-box">
            <i class="fa fa-unlock-alt" aria-hidden="true"></i>
            <input type="password" name="password" placeholder="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
        </div>
        <div class="input-box">
            <i class="fa fa-user" aria-hidden="true"></i>
            <label for="role">Role:</label>
            <select id="role" name="role" required>
                <option value="Seller">Seller</option>
                <option value="Buyer">Buyer</option>
            </select>
        </div>

        <div class="input-box">
            <input type="submit" name="sign-in" value="Register">
        </div>
        <a href="/login">Navigate to Login Page</a>
    </form>
</div>
</body>
</html>
